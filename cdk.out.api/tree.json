{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.220.0"},"children":{"LocalstaysStagingParamsStack":{"id":"LocalstaysStagingParamsStack","path":"LocalstaysStagingParamsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"SendGridParamName":{"id":"SendGridParamName","path":"LocalstaysStagingParamsStack/SendGridParamName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingParamsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingParamsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingParamsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingParamsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingDataStack":{"id":"LocalstaysStagingDataStack","path":"LocalstaysStagingDataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"LocalstaysTable":{"id":"LocalstaysTable","path":"LocalstaysStagingDataStack/LocalstaysTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/LocalstaysTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"},{"attributeName":"gsi2pk","attributeType":"S"},{"attributeName":"gsi2sk","attributeType":"S"},{"attributeName":"gsi3pk","attributeType":"S"},{"attributeName":"gsi3sk","attributeType":"S"},{"attributeName":"gsi4pk","attributeType":"S"},{"attributeName":"gsi4sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","deletionProtectionEnabled":false,"globalSecondaryIndexes":[{"indexName":"HostIdIndex","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"StatusIndex","keySchema":[{"attributeName":"gsi2pk","keyType":"HASH"},{"attributeName":"gsi2sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"DocumentStatusIndex","keySchema":[{"attributeName":"gsi3pk","keyType":"HASH"},{"attributeName":"gsi3sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"CountryIndex","keySchema":[{"attributeName":"gsi4pk","keyType":"HASH"},{"attributeName":"gsi4sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"localstays-staging","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeToLiveSpecification":{"attributeName":"expiresAt","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"LocalstaysStagingDataStack/LocalstaysTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"SeedHandler":{"id":"SeedHandler","path":"LocalstaysStagingDataStack/SeedHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingDataStack/SeedHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingDataStack/SeedHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingDataStack/SeedHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LocalstaysTable37513FEE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LocalstaysTable37513FEE","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SeedHandlerServiceRoleDefaultPolicy1F098B8A","roles":[{"Ref":"SeedHandlerServiceRole5AC0A424"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingDataStack/SeedHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingDataStack/SeedHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingDataStack/SeedHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"8e3494c6350e3a59c83634c82eb93d0aab241a682e192564cfe8c0a735796799.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"LocalstaysTable37513FEE"}}},"functionName":"localstays-staging-db-seed","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SeedHandlerServiceRole5AC0A424","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":120}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingDataStack/SeedHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingDataStack/SeedHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"SeedProvider":{"id":"SeedProvider","path":"LocalstaysStagingDataStack/SeedProvider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.220.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["SeedHandler1BFDD5E3","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SeedHandler1BFDD5E3","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["SeedHandler1BFDD5E3","Arn"]}}],"Version":"2012-10-17"},"policyName":"SeedProviderframeworkonEventServiceRoleDefaultPolicyD811E81C","roles":[{"Ref":"SeedProviderframeworkonEventServiceRole07E63B2F"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (LocalstaysStagingDataStack/SeedProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["SeedHandler1BFDD5E3","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["SeedProviderframeworkonEventServiceRole07E63B2F","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":900}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingDataStack/SeedProvider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}}}},"SeedCustomResource":{"id":"SeedCustomResource","path":"LocalstaysStagingDataStack/SeedCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.220.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LocalstaysStagingDataStack/SeedCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"TableName":{"id":"TableName","path":"LocalstaysStagingDataStack/TableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"TableArn":{"id":"TableArn","path":"LocalstaysStagingDataStack/TableArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingDataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingDataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingDataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"LocalstaysTable37513FEE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LocalstaysTable37513FEE\",\"Arn\"]}","path":"LocalstaysStagingDataStack/Exports/Output{\"Fn::GetAtt\":[\"LocalstaysTable37513FEE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"LocalstaysTable37513FEE\"}":{"id":"Output{\"Ref\":\"LocalstaysTable37513FEE\"}","path":"LocalstaysStagingDataStack/Exports/Output{\"Ref\":\"LocalstaysTable37513FEE\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingDataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingDataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingEmailTemplateStack":{"id":"LocalstaysStagingEmailTemplateStack","path":"LocalstaysStagingEmailTemplateStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"EmailTemplatesTable":{"id":"EmailTemplatesTable","path":"LocalstaysStagingEmailTemplateStack/EmailTemplatesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/EmailTemplatesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"localstays-staging-email-templates","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"ScalingRole":{"id":"ScalingRole","path":"LocalstaysStagingEmailTemplateStack/EmailTemplatesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"SeedEmailTemplatesHandler":{"id":"SeedEmailTemplatesHandler","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["EmailTemplatesTable7BE96B58","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"SeedEmailTemplatesHandlerServiceRoleDefaultPolicy2634F5AA","roles":[{"Ref":"SeedEmailTemplatesHandlerServiceRole8D57E578"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"f3cc0fb564999d1ebef1d41a23c25effe60caeef8460ebd38b3b7dea4888e5b4.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"EmailTemplatesTable7BE96B58"},"STAGE":"staging"}},"functionName":"localstays-staging-seed-email-templates","handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["SeedEmailTemplatesHandlerServiceRole8D57E578","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}}}},"SeedEmailTemplatesProvider":{"id":"SeedEmailTemplatesProvider","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.220.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["SeedEmailTemplatesHandler2ECEFA7D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SeedEmailTemplatesHandler2ECEFA7D","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["SeedEmailTemplatesHandler2ECEFA7D","Arn"]}}],"Version":"2012-10-17"},"policyName":"SeedEmailTemplatesProviderframeworkonEventServiceRoleDefaultPolicy2D0BD301","roles":[{"Ref":"SeedEmailTemplatesProviderframeworkonEventServiceRole5CA133A2"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["SeedEmailTemplatesHandler2ECEFA7D","Arn"]}}},"handler":"framework.onEvent","loggingConfig":{"logFormat":"JSON","applicationLogLevel":"FATAL"},"role":{"Fn::GetAtt":["SeedEmailTemplatesProviderframeworkonEventServiceRole5CA133A2","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":900}}}}}}},"SeedEmailTemplatesCustomResource":{"id":"SeedEmailTemplatesCustomResource","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.220.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LocalstaysStagingEmailTemplateStack/SeedEmailTemplatesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"EmailTemplatesTableName":{"id":"EmailTemplatesTableName","path":"LocalstaysStagingEmailTemplateStack/EmailTemplatesTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"EmailTemplatesTableArn":{"id":"EmailTemplatesTableArn","path":"LocalstaysStagingEmailTemplateStack/EmailTemplatesTableArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingEmailTemplateStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingEmailTemplateStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingEmailTemplateStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"EmailTemplatesTable7BE96B58\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"EmailTemplatesTable7BE96B58\",\"Arn\"]}","path":"LocalstaysStagingEmailTemplateStack/Exports/Output{\"Fn::GetAtt\":[\"EmailTemplatesTable7BE96B58\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"EmailTemplatesTable7BE96B58\"}":{"id":"Output{\"Ref\":\"EmailTemplatesTable7BE96B58\"}","path":"LocalstaysStagingEmailTemplateStack/Exports/Output{\"Ref\":\"EmailTemplatesTable7BE96B58\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingEmailTemplateStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingEmailTemplateStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingStorageStack":{"id":"LocalstaysStagingStorageStack","path":"LocalstaysStagingStorageStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"HostAssetsBucket":{"id":"HostAssetsBucket","path":"LocalstaysStagingStorageStack/HostAssetsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingStorageStack/HostAssetsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"localstays-staging-host-assets","corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST","DELETE"],"allowedOrigins":["http://localhost:3000","http://localhost:5173","http://localhost:8080","http://127.0.0.1:3000","http://127.0.0.1:5173","http://192.168.4.58:3000","https://*.localstays.com"],"exposedHeaders":["ETag"]}]},"lifecycleConfiguration":{"rules":[{"id":"DeleteOldVersions","noncurrentVersionExpiration":{"noncurrentDays":90},"status":"Enabled"},{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"id":"AbortIncompleteMultipartUpload","status":"Enabled"},{"expirationInDays":7,"id":"CleanupUnconfirmedDocuments","prefix":"veri_profile-doc_","status":"Enabled"},{"expirationInDays":7,"id":"CleanupUnconfirmedPhotos","prefix":"lstimg_","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"LocalstaysStagingStorageStack/HostAssetsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingStorageStack/HostAssetsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"HostAssetsBucket5D31AD44"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["HostAssetsBucket5D31AD44","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["HostAssetsBucket5D31AD44","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"LocalstaysStagingStorageStack/HostAssetsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.220.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LocalstaysStagingStorageStack/HostAssetsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"LocalstaysStagingStorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.220.0"},"children":{"Staging":{"id":"Staging","path":"LocalstaysStagingStorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"Role":{"id":"Role","path":"LocalstaysStagingStorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}},"Handler":{"id":"Handler","path":"LocalstaysStagingStorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BucketName":{"id":"BucketName","path":"LocalstaysStagingStorageStack/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"BucketArn":{"id":"BucketArn","path":"LocalstaysStagingStorageStack/BucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingStorageStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingStorageStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingStorageStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"Arn\"]}","path":"LocalstaysStagingStorageStack/Exports/Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Ref\":\"HostAssetsBucket5D31AD44\"}":{"id":"Output{\"Ref\":\"HostAssetsBucket5D31AD44\"}","path":"LocalstaysStagingStorageStack/Exports/Output{\"Ref\":\"HostAssetsBucket5D31AD44\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"RegionalDomainName\"]}":{"id":"Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"RegionalDomainName\"]}","path":"LocalstaysStagingStorageStack/Exports/Output{\"Fn::GetAtt\":[\"HostAssetsBucket5D31AD44\",\"RegionalDomainName\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingStorageStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingStorageStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingKmsStack":{"id":"LocalstaysStagingKmsStack","path":"LocalstaysStagingKmsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"CognitoCustomSenderKey":{"id":"CognitoCustomSenderKey","path":"LocalstaysStagingKmsStack/CognitoCustomSenderKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingKmsStack/CognitoCustomSenderKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for Cognito Custom Email Sender encryption (staging)","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::041608526793:root"},"Resource":"*"},{"Action":["kms:CreateGrant","kms:Decrypt"],"Condition":{"StringEquals":{"kms:ViaService":"cognito-idp.eu-north-1.amazonaws.com"}},"Effect":"Allow","Principal":{"Service":"cognito-idp.amazonaws.com"},"Resource":"*","Sid":"Allow Cognito to use the key"}],"Version":"2012-10-17"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"Alias":{"id":"Alias","path":"LocalstaysStagingKmsStack/CognitoCustomSenderKey/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingKmsStack/CognitoCustomSenderKey/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/localstays/staging/cognito-custom-sender","targetKeyId":{"Fn::GetAtt":["CognitoCustomSenderKey3C14CF73","Arn"]}}}}}}}},"CognitoKmsKeyId":{"id":"CognitoKmsKeyId","path":"LocalstaysStagingKmsStack/CognitoKmsKeyId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CognitoKmsKeyArn":{"id":"CognitoKmsKeyArn","path":"LocalstaysStagingKmsStack/CognitoKmsKeyArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingKmsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingKmsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingKmsStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CognitoCustomSenderKey3C14CF73\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CognitoCustomSenderKey3C14CF73\",\"Arn\"]}","path":"LocalstaysStagingKmsStack/Exports/Output{\"Fn::GetAtt\":[\"CognitoCustomSenderKey3C14CF73\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingKmsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingKmsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingCognitoStack":{"id":"LocalstaysStagingCognitoStack","path":"LocalstaysStagingCognitoStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"LocalstaysUserPool":{"id":"LocalstaysUserPool","path":"LocalstaysStagingCognitoStack/LocalstaysUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingCognitoStack/LocalstaysUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"deletionProtection":"INACTIVE","deviceConfiguration":{"challengeRequiredOnNewDevice":false,"deviceOnlyRememberedOnUserPrompt":true},"emailVerificationMessage":"Your verification code is {####}","emailVerificationSubject":"Verify your Localstays account","enabledMfas":["SOFTWARE_TOKEN_MFA"],"lambdaConfig":{"kmsKeyId":{"Fn::ImportValue":"localstays-staging-kms:ExportsOutputFnGetAttCognitoCustomSenderKey3C14CF73Arn139EA1AE"}},"mfaConfiguration":"OPTIONAL","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"termsAccepted","attributeDataType":"String","mutable":true},{"name":"termsAcceptedAt","attributeDataType":"String","mutable":true},{"name":"marketingOptIn","attributeDataType":"String","mutable":true},{"name":"marketingOptInAt","attributeDataType":"String","mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"CostCenter":"Engineering","Environment":"staging","ManagedBy":"CDK","Project":"Localstays"},"usernameAttributes":["email"],"userPoolName":"localstays-staging-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"Your verification code is {####}","emailSubject":"Verify your Localstays account","smsMessage":"The verification code to your new account is {####}"}}}}}},"LocalstaysUserPoolClient":{"id":"LocalstaysUserPoolClient","path":"LocalstaysStagingCognitoStack/LocalstaysUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingCognitoStack/LocalstaysUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["https://example.com"],"clientName":"localstays-staging-web-client","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","readAttributes":["custom:marketingOptIn","custom:marketingOptInAt","custom:termsAccepted","custom:termsAcceptedAt","email","email_verified"],"refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"LocalstaysUserPoolC17F6F33"},"writeAttributes":["custom:marketingOptIn","custom:marketingOptInAt","custom:termsAccepted","custom:termsAcceptedAt","email"]}}}}},"HostGroup":{"id":"HostGroup","path":"LocalstaysStagingCognitoStack/HostGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"Host users who can list properties","groupName":"HOST","precedence":10,"userPoolId":{"Ref":"LocalstaysUserPoolC17F6F33"}}}},"AdminGroup":{"id":"AdminGroup","path":"LocalstaysStagingCognitoStack/AdminGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"Admin users with full system access","groupName":"ADMIN","precedence":5,"userPoolId":{"Ref":"LocalstaysUserPoolC17F6F33"}}}},"UserPoolId":{"id":"UserPoolId","path":"LocalstaysStagingCognitoStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"UserPoolArn":{"id":"UserPoolArn","path":"LocalstaysStagingCognitoStack/UserPoolArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"LocalstaysStagingCognitoStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Region":{"id":"Region","path":"LocalstaysStagingCognitoStack/Region","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"HostGroupName":{"id":"HostGroupName","path":"LocalstaysStagingCognitoStack/HostGroupName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"AdminGroupName":{"id":"AdminGroupName","path":"LocalstaysStagingCognitoStack/AdminGroupName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingCognitoStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingCognitoStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingCognitoStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"LocalstaysUserPoolC17F6F33\"}":{"id":"Output{\"Ref\":\"LocalstaysUserPoolC17F6F33\"}","path":"LocalstaysStagingCognitoStack/Exports/Output{\"Ref\":\"LocalstaysUserPoolC17F6F33\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Output{\"Fn::GetAtt\":[\"LocalstaysUserPoolC17F6F33\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LocalstaysUserPoolC17F6F33\",\"Arn\"]}","path":"LocalstaysStagingCognitoStack/Exports/Output{\"Fn::GetAtt\":[\"LocalstaysUserPoolC17F6F33\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingCognitoStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingCognitoStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingAuthTriggerStack":{"id":"LocalstaysStagingAuthTriggerStack","path":"LocalstaysStagingAuthTriggerStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"CustomEmailSenderLogs":{"id":"CustomEmailSenderLogs","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/localstays-staging-custom-email-sender","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"CustomEmailSenderLambda":{"id":"CustomEmailSenderLambda","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::ImportValue":"localstays-staging-kms:ExportsOutputFnGetAttCognitoCustomSenderKey3C14CF73Arn139EA1AE"}},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid","Sid":"AllowGetSendGridApiKey"},{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"Sid":"AllowDynamoDBUserWrite"}],"Version":"2012-10-17"},"policyName":"CustomEmailSenderLambdaServiceRoleDefaultPolicy77D6D2A2","roles":[{"Ref":"CustomEmailSenderLambdaServiceRoleA213E962"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"b7daf79bf8d1026083e626737e759c76f08fd563234d5f176051430d8beb88df.zip"},"description":"Custom Email Sender trigger for Cognito - sends verification emails via SendGrid","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"VERIFY_URL_BASE":"http://localhost:3000/en/verify","RESET_PASSWORD_URL_BASE":"http://localhost:3000/en/reset-password","SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","KMS_KEY_ARN":{"Fn::ImportValue":"localstays-staging-kms:ExportsOutputFnGetAttCognitoCustomSenderKey3C14CF73Arn139EA1AE"},"NODE_OPTIONS":"--enable-source-maps"}},"functionName":"localstays-staging-custom-email-sender","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"CustomEmailSenderLogs5732E747"}},"memorySize":256,"role":{"Fn::GetAtt":["CustomEmailSenderLambdaServiceRoleA213E962","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"CognitoInvokePermission":{"id":"CognitoInvokePermission","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambda/CognitoInvokePermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CustomEmailSenderLambdaA1C15DAA","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:cognito-idp:eu-north-1:041608526793:userpool/",{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"}]]}}}}}},"PreSignUpLogs":{"id":"PreSignUpLogs","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/localstays-staging-pre-signup","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"PreSignUpLambda":{"id":"PreSignUpLambda","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:PutItem","Effect":"Allow","Resource":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"Sid":"AllowDynamoDBConsentWrite"}],"Version":"2012-10-17"},"policyName":"PreSignUpLambdaServiceRoleDefaultPolicyF5A5F3AC","roles":[{"Ref":"PreSignUpLambdaServiceRoleFA160DE8"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"5daf963215c2aeeabbe388be7224d2062ce6b0d68a5c68822688a098af3c7046.zip"},"description":"PreSignUp trigger for Cognito - captures consent data from clientMetadata","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"NODE_OPTIONS":"--enable-source-maps"}},"functionName":"localstays-staging-pre-signup","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"PreSignUpLogsA7242E9C"}},"memorySize":256,"role":{"Fn::GetAtt":["PreSignUpLambdaServiceRoleFA160DE8","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":10}}},"CognitoPreSignUpInvokePermission":{"id":"CognitoPreSignUpInvokePermission","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambda/CognitoPreSignUpInvokePermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PreSignUpLambda2E8F0430","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:cognito-idp:eu-north-1:041608526793:userpool/",{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"}]]}}}}}},"PostConfirmationLogs":{"id":"PostConfirmationLogs","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/localstays-staging-post-confirmation","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"PostConfirmationLambda":{"id":"PostConfirmationLambda","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cognito-idp:AdminAddUserToGroup","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:cognito-idp:eu-north-1:041608526793:userpool/",{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"}]]},"Sid":"AllowAddUserToGroup"},{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"Sid":"AllowDynamoDBRBACInit"},{"Action":"s3:PutObject","Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]},"Sid":"AllowS3HostFolderCreation"}],"Version":"2012-10-17"},"policyName":"PostConfirmationLambdaServiceRoleDefaultPolicy5EC3124B","roles":[{"Ref":"PostConfirmationLambdaServiceRole80A1DAC4"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"ca50e235651e0aa485302c86213cd50d28abd3cb1ee129bae73e06f3fbd92c4f.zip"},"description":"PostConfirmation trigger for Cognito - auto-assigns users to HOST group","environment":{"variables":{"USER_POOL_ID":{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"},"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"NODE_OPTIONS":"--enable-source-maps"}},"functionName":"localstays-staging-post-confirmation","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"PostConfirmationLogs0AE55041"}},"memorySize":256,"role":{"Fn::GetAtt":["PostConfirmationLambdaServiceRole80A1DAC4","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":10}}},"CognitoPostConfirmationInvokePermission":{"id":"CognitoPostConfirmationInvokePermission","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambda/CognitoPostConfirmationInvokePermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PostConfirmationLambdaC4F60401","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:cognito-idp:eu-north-1:041608526793:userpool/",{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"}]]}}}}}},"PreTokenGenerationLogs":{"id":"PreTokenGenerationLogs","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/localstays-staging-pre-token-generation","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"PreTokenGenerationLambda":{"id":"PreTokenGenerationLambda","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:GetItem","Effect":"Allow","Resource":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"Sid":"AllowDynamoDBReadForClaims"}],"Version":"2012-10-17"},"policyName":"PreTokenGenerationLambdaServiceRoleDefaultPolicy2DCB51D3","roles":[{"Ref":"PreTokenGenerationLambdaServiceRole9DEA7D8A"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"bb4d682106610037ef0badef4c2633cd75f9f113e55af1002204b7653de3faaa.zip"},"description":"PreTokenGeneration trigger for Cognito - injects custom claims (role, hostId, permissions)","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"NODE_OPTIONS":"--enable-source-maps"}},"functionName":"localstays-staging-pre-token-generation","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"PreTokenGenerationLogs999BAB0B"}},"memorySize":256,"role":{"Fn::GetAtt":["PreTokenGenerationLambdaServiceRole9DEA7D8A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":5}}},"CognitoPreTokenGenerationInvokePermission":{"id":"CognitoPreTokenGenerationInvokePermission","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambda/CognitoPreTokenGenerationInvokePermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PreTokenGenerationLambda1F82A453","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:cognito-idp:eu-north-1:041608526793:userpool/",{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputRefLocalstaysUserPoolC17F6F337B48A5E7"}]]}}}}}},"CustomEmailSenderLambdaName":{"id":"CustomEmailSenderLambdaName","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CustomEmailSenderLambdaArn":{"id":"CustomEmailSenderLambdaArn","path":"LocalstaysStagingAuthTriggerStack/CustomEmailSenderLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PreSignUpLambdaName":{"id":"PreSignUpLambdaName","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PreSignUpLambdaArn":{"id":"PreSignUpLambdaArn","path":"LocalstaysStagingAuthTriggerStack/PreSignUpLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PostConfirmationLambdaName":{"id":"PostConfirmationLambdaName","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PostConfirmationLambdaArn":{"id":"PostConfirmationLambdaArn","path":"LocalstaysStagingAuthTriggerStack/PostConfirmationLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PreTokenGenerationLambdaName":{"id":"PreTokenGenerationLambdaName","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"PreTokenGenerationLambdaArn":{"id":"PreTokenGenerationLambdaArn","path":"LocalstaysStagingAuthTriggerStack/PreTokenGenerationLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"AttachTriggerCommand":{"id":"AttachTriggerCommand","path":"LocalstaysStagingAuthTriggerStack/AttachTriggerCommand","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingAuthTriggerStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingAuthTriggerStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingAuthTriggerStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingAuthTriggerStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingCloudFrontStack":{"id":"LocalstaysStagingCloudFrontStack","path":"LocalstaysStagingCloudFrontStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"OAC":{"id":"OAC","path":"LocalstaysStagingCloudFrontStack/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingCloudFrontStack/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"localstaysstagingcloudfrontOACB342D559","signingBehavior":"no-override","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"ImageCachePolicy":{"id":"ImageCachePolicy","path":"LocalstaysStagingCloudFrontStack/ImageCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingCloudFrontStack/ImageCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"localstays-staging-image-cache","comment":"Cache policy for listing images and profile photos","minTtl":0,"maxTtl":31536000,"defaultTtl":31536000,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"all"}}}}}}}},"AssetsDistribution":{"id":"AssetsDistribution","path":"LocalstaysStagingCloudFrontStack/AssetsDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"comment":"Localstays staging - Host Assets CDN","enabled":true,"origins":[{"id":{"Fn::Join":["",["S3-",{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}]]},"domainName":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44RegionalDomainName8CED2753"},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]},"s3OriginConfig":{}}],"defaultCacheBehavior":{"targetOriginId":{"Fn::Join":["",["S3-",{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}]]},"viewerProtocolPolicy":"redirect-to-https","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":false},"cacheBehaviors":[{"pathPattern":"*/listings/*/images/*.webp","targetOriginId":{"Fn::Join":["",["S3-",{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}]]},"viewerProtocolPolicy":"redirect-to-https","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ImageCachePolicy3A3980AA"},"compress":true},{"pathPattern":"*/profile/*.webp","targetOriginId":{"Fn::Join":["",["S3-",{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}]]},"viewerProtocolPolicy":"redirect-to-https","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"ImageCachePolicy3A3980AA"},"compress":true}],"priceClass":"PriceClass_100","ipv6Enabled":true,"httpVersion":"http2and3"},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DistributionId":{"id":"DistributionId","path":"LocalstaysStagingCloudFrontStack/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"LocalstaysStagingCloudFrontStack/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"OACId":{"id":"OACId","path":"LocalstaysStagingCloudFrontStack/OACId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingCloudFrontStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingCloudFrontStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"Exports":{"id":"Exports","path":"LocalstaysStagingCloudFrontStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"AssetsDistribution\",\"DomainName\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AssetsDistribution\",\"DomainName\"]}","path":"LocalstaysStagingCloudFrontStack/Exports/Output{\"Fn::GetAtt\":[\"AssetsDistribution\",\"DomainName\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingCloudFrontStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingCloudFrontStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"LocalstaysStagingApiStack":{"id":"LocalstaysStagingApiStack","path":"LocalstaysStagingApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.220.0"},"children":{"UserPool":{"id":"UserPool","path":"LocalstaysStagingApiStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"ApiGatewayLogs":{"id":"ApiGatewayLogs","path":"LocalstaysStagingApiStack/ApiGatewayLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ApiGatewayLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/apigateway/localstays-staging","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"LocalstaysApi":{"id":"LocalstaysApi","path":"LocalstaysStagingApiStack/LocalstaysApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Localstays Platform API (staging)","endpointConfiguration":{"types":["REGIONAL"]},"name":"localstays-staging-api","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"LocalstaysStagingApiStack/LocalstaysApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"LocalstaysStagingApiStack/LocalstaysApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"Account":{"id":"Account","path":"LocalstaysStagingApiStack/LocalstaysApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["LocalstaysApiCloudWatchRole8006C858","Arn"]}}}},"Deployment":{"id":"Deployment","path":"LocalstaysStagingApiStack/LocalstaysApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Localstays Platform API (staging)","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"DeploymentStage.staging":{"id":"DeploymentStage.staging","path":"LocalstaysStagingApiStack/LocalstaysApi/DeploymentStage.staging","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/DeploymentStage.staging/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"accessLogSetting":{"destinationArn":{"Fn::GetAtt":["ApiGatewayLogs22899D9B","Arn"]},"format":"{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"},"deploymentId":{"Ref":"LocalstaysApiDeploymentBF5E507469a3bf3c67190a34b03ee707b640f991"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"stageName":"staging","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"Endpoint":{"id":"Endpoint","path":"LocalstaysStagingApiStack/LocalstaysApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"Default":{"id":"Default","path":"LocalstaysStagingApiStack/LocalstaysApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.220.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Fn::GetAtt":["LocalstaysApiC3CA16E9","RootResourceId"]},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"api":{"id":"api","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["LocalstaysApiC3CA16E9","RootResourceId"]},"pathPart":"api","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiA97DB623"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"v1":{"id":"v1","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiA97DB623"},"pathPart":"v1","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv132AEDC9C"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"hosts":{"id":"hosts","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv132AEDC9C"},"pathPart":"hosts","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hosts1BC476BC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"{hostId}":{"id":"{hostId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hosts1BC476BC"},"pathPart":"{hostId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdFBE3DE05"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"profile":{"id":"profile","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdFBE3DE05"},"pathPart":"profile","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofile9A909B6F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"submit-intent":{"id":"submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdprofile9A909B6F"},"pathPart":"submit-intent","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofilesubmitintentE9F98CBC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/profile/submit-intent"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/profile/submit-intent"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/submit-intent/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdprofilesubmitintentPOSTValidatorEAD37B237FCAC1F7"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofilesubmitintentE9F98CBC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"confirm-submission":{"id":"confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdprofile9A909B6F"},"pathPart":"confirm-submission","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofileconfirmsubmissionB2A80B00"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/profile/confirm-submission"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.profile.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/profile/confirm-submission"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/confirm-submission/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdprofileconfirmsubmissionPOSTValidatorEC39BA5A0F290542"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofileconfirmsubmissionB2A80B00"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"update-rejected":{"id":"update-rejected","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdprofile9A909B6F"},"pathPart":"update-rejected","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofileupdaterejected318F9F57"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/hosts/*/profile/update-rejected"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.profile.update-rejected","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/hosts/*/profile/update-rejected"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/PUT/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/update-rejected/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdprofileupdaterejectedPUTValidator44DA44265657D132"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofileupdaterejected318F9F57"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/profile"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.profile","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/profile"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/GET/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/profile/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostProfileHandlerLambda06258017","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdprofileGETValidatorFC869E16FF3E895E"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdprofile9A909B6F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"subscription":{"id":"subscription","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdFBE3DE05"},"pathPart":"subscription","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdsubscription4106F3CC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetSubscriptionLambda4112CC19","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/subscription"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.subscription","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetSubscriptionLambda4112CC19","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/subscription"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/subscription/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetSubscriptionLambda4112CC19","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdsubscription4106F3CC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"listings":{"id":"listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdFBE3DE05"},"pathPart":"listings","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingsCC68F827"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"submit-intent":{"id":"submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingsCC68F827"},"pathPart":"submit-intent","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingssubmitintentAF55F3CE"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/submit-intent"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/submit-intent"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/submit-intent/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingssubmitintentPOSTValidatorE2D0A177BA263F13"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingssubmitintentAF55F3CE"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/listings"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/listings"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingsCC68F827"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"{listingId}":{"id":"{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingsCC68F827"},"pathPart":"{listingId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/listings/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/listings/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"DELETE":{"id":"DELETE","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/DELETE/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/DELETE/api/v1/hosts/*/listings/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/DELETE/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.DELETE..api.v1.hosts.{hostId}.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/DELETE/api/v1/hosts/*/listings/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"confirm-submission":{"id":"confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"pathPart":"confirm-submission","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmission45123F8F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/confirm-submission"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/confirm-submission"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/confirm-submission/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmissionPOSTValidator3FB148536A415B3E"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmission45123F8F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"image-update":{"id":"image-update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"pathPart":"image-update","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdimageupdate7376CAFF"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/image-update"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/image-update"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdatePOSTValidator932A6AF0A538A925"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdimageupdate7376CAFF"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"confirm":{"id":"confirm","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdimageupdate7376CAFF"},"pathPart":"confirm","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmA4E5653F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/image-update/confirm"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.image-update.confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/image-update/confirm"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/image-update/confirm/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmPOSTValidatorE466EA0D8EFC6AC2"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmA4E5653F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}},"update":{"id":"update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"pathPart":"update","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdupdate887FC88A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/hosts/*/listings/*/update"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.hosts.{hostId}.listings.{listingId}.update","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/hosts/*/listings/*/update"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/PUT/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/update/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdupdatePUTValidatorA4C52B4B117F258D"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdupdate887FC88A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"resubmit":{"id":"resubmit","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"pathPart":"resubmit","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdresubmitDA15B387"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/resubmit"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.resubmit","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/resubmit"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/resubmit/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdresubmitDA15B387"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"requests":{"id":"requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingId8F9A4994"},"pathPart":"requests","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequests02C9A786"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/listings/*/requests"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.listings.{listingId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/listings/*/requests"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequests02C9A786"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"{requestId}":{"id":"{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequests02C9A786"},"pathPart":"{requestId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdEE70C972"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"submit-video-intent":{"id":"submit-video-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdEE70C972"},"pathPart":"submit-video-intent","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointent65C31B42"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/requests/*/submit-video-intent"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-video-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/requests/*/submit-video-intent"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-video-intent/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointentPOSTValidatorA5F3824BF2517A81"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointent65C31B42"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"confirm-video":{"id":"confirm-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdEE70C972"},"pathPart":"confirm-video","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideo5DE064EE"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/requests/*/confirm-video"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.confirm-video","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/requests/*/confirm-video"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/confirm-video/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideoPOSTValidatorE85FA1C7BA4C5BCA"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideo5DE064EE"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"submit-code":{"id":"submit-code","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdEE70C972"},"pathPart":"submit-code","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodeEDFD9454"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/listings/*/requests/*/submit-code"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.listings.{listingId}.requests.{requestId}.submit-code","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/listings/*/requests/*/submit-code"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/listings/{listingId}/requests/{requestId}/submit-code/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodePOSTValidatorA97FAB32CA67CF87"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodeEDFD9454"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}}}}}}}},"requests":{"id":"requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdFBE3DE05"},"pathPart":"requests","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsE2291ECC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/requests"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/requests"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsE2291ECC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"{requestId}":{"id":"{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsE2291ECC"},"pathPart":"{requestId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestId831CA750"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/hosts/*/requests/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.hosts.{hostId}.requests.{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/hosts/*/requests/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestId831CA750"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"submit-intent":{"id":"submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestId831CA750"},"pathPart":"submit-intent","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintent026F8719"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/requests/*/submit-intent"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.submit-intent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/requests/*/submit-intent"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/submit-intent/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintentPOSTValidatorE471891647163318"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintent026F8719"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"confirm-submission":{"id":"confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestId831CA750"},"pathPart":"confirm-submission","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmission824B598F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/hosts/*/requests/*/confirm-submission"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.hosts.{hostId}.requests.{requestId}.confirm-submission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/hosts/*/requests/*/confirm-submission"]]}}}},"Validator":{"id":"Validator","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/POST/Validator","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/hosts/{hostId}/requests/{requestId}/confirm-submission/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostRequestsHandlerLambda70BB88DD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"LocalstaysApilocalstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmissionPOSTValidator4022BBB3CDB5B3CA"},"resourceId":{"Ref":"LocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmission824B598F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}}}}}}}},"listings":{"id":"listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv132AEDC9C"},"pathPart":"listings","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1listingsCE2981FD"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"metadata":{"id":"metadata","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1listingsCE2981FD"},"pathPart":"metadata","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1listingsmetadataC032E104"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/listings/metadata"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.listings.metadata","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/listings/metadata"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/listings/metadata/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HostListingsHandlerLambda7E599F84","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1listingsmetadataC032E104"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}},"admin":{"id":"admin","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv132AEDC9C"},"pathPart":"admin","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1admin0977AFCF"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"hosts":{"id":"hosts","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1admin0977AFCF"},"pathPart":"hosts","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostsDBA55252"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostsDBA55252"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"search":{"id":"search","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostsDBA55252"},"pathPart":"search","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostssearch32D2EFFA"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/search"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.search","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/search"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/search/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostssearch32D2EFFA"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"pending-review":{"id":"pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostsDBA55252"},"pathPart":"pending-review","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostspendingreviewFA7AADD2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/pending-review"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/pending-review"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/pending-review/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostspendingreviewFA7AADD2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"{hostId}":{"id":"{hostId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostsDBA55252"},"pathPart":"{hostId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"documents":{"id":"documents","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"documents","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIddocuments9048FA82"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/*/documents"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.documents","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/*/documents"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/documents/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIddocuments9048FA82"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"listings":{"id":"listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"listings","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdlistingsA9FF4A57"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/*/listings"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/*/listings"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/listings/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdlistingsA9FF4A57"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"requests":{"id":"requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"requests","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdrequests9B5669FC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/hosts/*/requests"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.hosts.{hostId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/hosts/*/requests"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/requests/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdrequests9B5669FC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"approve":{"id":"approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"approve","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdapproveB74D9AA2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/hosts/*/approve"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/hosts/*/approve"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/approve/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdapproveB74D9AA2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"reject":{"id":"reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"reject","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdreject14BE5619"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/hosts/*/reject"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/hosts/*/reject"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reject/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdreject14BE5619"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"suspend":{"id":"suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"suspend","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdsuspendE1677CBA"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/hosts/*/suspend"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/hosts/*/suspend"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/suspend/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdsuspendE1677CBA"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"reinstate":{"id":"reinstate","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminhostshostId9D2B4F7F"},"pathPart":"reinstate","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdreinstateDD50F4DC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/hosts/*/reinstate"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.hosts.{hostId}.reinstate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/hosts/*/reinstate"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/hosts/{hostId}/reinstate/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminHostsHandlerLambdaBA09BBEE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminhostshostIdreinstateDD50F4DC"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}}}},"listings":{"id":"listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1admin0977AFCF"},"pathPart":"listings","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingsF9EBB107"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/listings"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/listings"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingsF9EBB107"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"pending-review":{"id":"pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingsF9EBB107"},"pathPart":"pending-review","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingspendingreviewB2055CF0"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/listings/pending-review"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/listings/pending-review"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/pending-review/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingspendingreviewB2055CF0"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"{listingId}":{"id":"{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingsF9EBB107"},"pathPart":"{listingId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/listings/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/listings/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"reviewing":{"id":"reviewing","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"pathPart":"reviewing","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdreviewingCCF3A1E4"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/listings/*/reviewing"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reviewing","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/listings/*/reviewing"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reviewing/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdreviewingCCF3A1E4"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"approve":{"id":"approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"pathPart":"approve","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdapprove8B4B1563"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/listings/*/approve"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/listings/*/approve"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/approve/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdapprove8B4B1563"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"reject":{"id":"reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"pathPart":"reject","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrejectF2A2B7A8"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/listings/*/reject"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/listings/*/reject"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/reject/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrejectF2A2B7A8"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"suspend":{"id":"suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"pathPart":"suspend","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdsuspend386D7263"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/listings/*/suspend"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.listings.{listingId}.suspend","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/listings/*/suspend"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/suspend/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminListingsHandlerLambda0F0A4150","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdsuspend386D7263"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"requests":{"id":"requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdF772E46A"},"pathPart":"requests","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequests5D823EC2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/listings/*/requests"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.listings.{listingId}.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/listings/*/requests"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequests5D823EC2"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"property-video":{"id":"property-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequests5D823EC2"},"pathPart":"property-video","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequestspropertyvideo3473883E"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/admin/listings/*/requests/property-video"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.property-video","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/admin/listings/*/requests/property-video"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/property-video/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequestspropertyvideo3473883E"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"address-verification":{"id":"address-verification","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequests5D823EC2"},"pathPart":"address-verification","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequestsaddressverificationA47F1BC0"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"POST":{"id":"POST","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/POST/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/POST/api/v1/admin/listings/*/requests/address-verification"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/POST/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.POST..api.v1.admin.listings.{listingId}.requests.address-verification","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/POST/api/v1/admin/listings/*/requests/address-verification"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/listings/{listingId}/requests/address-verification/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminlistingslistingIdrequestsaddressverificationA47F1BC0"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}}}}}},"requests":{"id":"requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1admin0977AFCF"},"pathPart":"requests","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsB21B5C9A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/requests"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/requests"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsB21B5C9A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"pending-review":{"id":"pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminrequestsB21B5C9A"},"pathPart":"pending-review","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestspendingreview909AB442"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/requests/pending-review"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.pending-review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/requests/pending-review"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/pending-review/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestspendingreview909AB442"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"{requestId}":{"id":"{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminrequestsB21B5C9A"},"pathPart":"{requestId}","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestId7A5C3573"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"GET":{"id":"GET","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/GET/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/GET/api/v1/admin/requests/*"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/GET/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.GET..api.v1.admin.requests.{requestId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/GET/api/v1/admin/requests/*"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestId7A5C3573"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"approve":{"id":"approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestId7A5C3573"},"pathPart":"approve","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestIdapprove4ADBF59A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/requests/*/approve"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.approve","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/requests/*/approve"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/approve/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestIdapprove4ADBF59A"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}},"reject":{"id":"reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestId7A5C3573"},"pathPart":"reject","restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true}}],"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestIdreject6F38D6E9"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}},"PUT":{"id":"PUT","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.220.0","metadata":[]},"children":{"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject":{"id":"ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/PUT/ApiPermission.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/",{"Ref":"LocalstaysApiDeploymentStagestagingD883945E"},"/PUT/api/v1/admin/requests/*/reject"]]}}}},"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject":{"id":"ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/PUT/ApiPermission.Test.LocalstaysStagingApiStackLocalstaysApi96E7D6E0.PUT..api.v1.admin.requests.{requestId}.reject","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-north-1:041608526793:",{"Ref":"LocalstaysApiC3CA16E9"},"/test-invoke-stage/PUT/api/v1/admin/requests/*/reject"]]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/Default/api/v1/admin/requests/{requestId}/reject/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-north-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminRequestsHandlerLambda6FE1F14F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"LocalstaysApiapiv1adminrequestsrequestIdreject6F38D6E9"},"restApiId":{"Ref":"LocalstaysApiC3CA16E9"}}}}}}}}}}}}}}}}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofilesubmitintentPOSTValidatorEAD37B23":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofilesubmitintentPOSTValidatorEAD37B23","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofilesubmitintentPOSTValidatorEAD37B23","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofilesubmitintentPOSTValidatorEAD37B23/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileconfirmsubmissionPOSTValidatorEC39BA5A":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileconfirmsubmissionPOSTValidatorEC39BA5A","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileconfirmsubmissionPOSTValidatorEC39BA5A","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileconfirmsubmissionPOSTValidatorEC39BA5A/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileupdaterejectedPUTValidator44DA4426":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileupdaterejectedPUTValidator44DA4426","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileupdaterejectedPUTValidator44DA4426","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileupdaterejectedPUTValidator44DA4426/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileGETValidatorFC869E16":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileGETValidatorFC869E16","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileGETValidatorFC869E16","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdprofileGETValidatorFC869E16/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingssubmitintentPOSTValidatorE2D0A177":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingssubmitintentPOSTValidatorE2D0A177","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingssubmitintentPOSTValidatorE2D0A177","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingssubmitintentPOSTValidatorE2D0A177/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmissionPOSTValidator3FB14853":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmissionPOSTValidator3FB14853","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmissionPOSTValidator3FB14853","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdconfirmsubmissionPOSTValidator3FB14853/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdatePOSTValidator932A6AF0":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdatePOSTValidator932A6AF0","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdatePOSTValidator932A6AF0","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdatePOSTValidator932A6AF0/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmPOSTValidatorE466EA0D":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmPOSTValidatorE466EA0D","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmPOSTValidatorE466EA0D","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdimageupdateconfirmPOSTValidatorE466EA0D/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdupdatePUTValidatorA4C52B4B":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdupdatePUTValidatorA4C52B4B","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdupdatePUTValidatorA4C52B4B","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdupdatePUTValidatorA4C52B4B/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointentPOSTValidatorA5F3824B":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointentPOSTValidatorA5F3824B","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointentPOSTValidatorA5F3824B","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitvideointentPOSTValidatorA5F3824B/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideoPOSTValidatorE85FA1C7":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideoPOSTValidatorE85FA1C7","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideoPOSTValidatorE85FA1C7","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdconfirmvideoPOSTValidatorE85FA1C7/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodePOSTValidatorA97FAB32":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodePOSTValidatorA97FAB32","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodePOSTValidatorA97FAB32","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdlistingslistingIdrequestsrequestIdsubmitcodePOSTValidatorA97FAB32/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintentPOSTValidatorE4718916":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintentPOSTValidatorE4718916","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintentPOSTValidatorE4718916","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdsubmitintentPOSTValidatorE4718916/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmissionPOSTValidator4022BBB3":{"id":"localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmissionPOSTValidator4022BBB3","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmissionPOSTValidator4022BBB3","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LocalstaysApi/localstaysstagingapiLocalstaysApiapiv1hostshostIdrequestsrequestIdconfirmsubmissionPOSTValidator4022BBB3/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"validateRequestBody":true,"validateRequestParameters":true}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"LocalstaysStagingApiStack/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":300,"identitySource":"method.request.header.Authorization","name":"localstays-staging-authorizer","providerArns":[{"Fn::ImportValue":"localstays-staging-cognito:ExportsOutputFnGetAttLocalstaysUserPoolC17F6F33Arn7B539AFB"}],"restApiId":{"Ref":"LocalstaysApiC3CA16E9"},"type":"COGNITO_USER_POOLS"}}}}},"ImageProcessingDLQ":{"id":"ImageProcessingDLQ","path":"LocalstaysStagingApiStack/ImageProcessingDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessingDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"staging-image-processing-dlq","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"ImageProcessingQueue":{"id":"ImageProcessingQueue","path":"LocalstaysStagingApiStack/ImageProcessingQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessingQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"staging-image-processing-queue","receiveMessageWaitTimeSeconds":20,"redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["ImageProcessingDLQ0D665155","Arn"]},"maxReceiveCount":3},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"visibilityTimeout":180}}},"Policy":{"id":"Policy","path":"LocalstaysStagingApiStack/ImageProcessingQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessingQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["GuardDutyScanComplete84F8AEEF","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"ImageProcessingQueue93F2F958"}]}}}}}}},"ImageProcessorRepo":{"id":"ImageProcessorRepo","path":"LocalstaysStagingApiStack/ImageProcessorRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.220.0","metadata":[]}},"GuardDutyScanComplete":{"id":"GuardDutyScanComplete","path":"LocalstaysStagingApiStack/GuardDutyScanComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GuardDutyScanComplete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"description":"Capture GuardDuty malware scan completion events for listing images","eventPattern":{"source":["aws.guardduty"],"detail-type":["GuardDuty Malware Protection Object Scan Result"],"detail":{"scanStatus":["COMPLETED"],"s3ObjectDetails":{"bucketName":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}],"objectKey":[{"prefix":"lstimg_"}]}}},"name":"staging-guardduty-scan-complete","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","Arn"]}}]}}}}},"ImageQueueBacklogAlarm":{"id":"ImageQueueBacklogAlarm","path":"LocalstaysStagingApiStack/ImageQueueBacklogAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageQueueBacklogAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when image processing queue has backlog > 10 min","alarmName":"staging-image-queue-backlog","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","QueueName"]}}],"evaluationPeriods":2,"metricName":"ApproximateAgeOfOldestMessage","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":600,"treatMissingData":"notBreaching"}}}}},"ImageQueueOldMessagesAlarm":{"id":"ImageQueueOldMessagesAlarm","path":"LocalstaysStagingApiStack/ImageQueueOldMessagesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageQueueOldMessagesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when images have been queued for > 30 min","alarmName":"staging-image-queue-old-messages","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","QueueName"]}}],"evaluationPeriods":1,"metricName":"ApproximateAgeOfOldestMessage","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":1800,"treatMissingData":"notBreaching"}}}}},"ImageDLQMessagesAlarm":{"id":"ImageDLQMessagesAlarm","path":"LocalstaysStagingApiStack/ImageDLQMessagesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageDLQMessagesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when failed images land in DLQ","alarmName":"staging-image-dlq-messages","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["ImageProcessingDLQ0D665155","QueueName"]}}],"evaluationPeriods":1,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ImageProcessorLambda":{"id":"ImageProcessorLambda","path":"LocalstaysStagingApiStack/ImageProcessorLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/ImageProcessorLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/ImageProcessorLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/ImageProcessorLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","Arn"]}}],"Version":"2012-10-17"},"policyName":"ImageProcessorLambdaServiceRoleDefaultPolicy5607AB42","roles":[{"Ref":"ImageProcessorLambdaServiceRole29155EFC"}]}}}}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"imageUri":{"Fn::Join":["",["041608526793.dkr.ecr.eu-north-1.",{"Ref":"AWS::URLSuffix"},"/staging-localstays-image-processor:latest"]]}},"description":"Process listing images: malware scanning + WebP conversion","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}}},"functionName":"staging-image-processor","memorySize":2048,"packageType":"Image","role":{"Fn::GetAtt":["ImageProcessorLambdaServiceRole29155EFC","Arn"]},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":90}}},"SqsEventSource:LocalstaysStagingApiStackImageProcessingQueue4361FF37":{"id":"SqsEventSource:LocalstaysStagingApiStackImageProcessingQueue4361FF37","path":"LocalstaysStagingApiStack/ImageProcessorLambda/SqsEventSource:LocalstaysStagingApiStackImageProcessingQueue4361FF37","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorLambda/SqsEventSource:LocalstaysStagingApiStackImageProcessingQueue4361FF37/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":1,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"eventSourceArn":{"Fn::GetAtt":["ImageProcessingQueue93F2F958","Arn"]},"functionName":{"Ref":"ImageProcessorLambda383C2A0A"},"functionResponseTypes":["ReportBatchItemFailures"],"maximumBatchingWindowInSeconds":0}}}}}}},"ImageProcessorLogGroup":{"id":"ImageProcessorLogGroup","path":"LocalstaysStagingApiStack/ImageProcessorLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/staging-image-processor","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"ImageProcessorErrorsAlarm":{"id":"ImageProcessorErrorsAlarm","path":"LocalstaysStagingApiStack/ImageProcessorErrorsAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorErrorsAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when image processor Lambda has errors","alarmName":"staging-image-processor-errors","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"ImageProcessorLambda383C2A0A"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"ImageProcessorThrottlesAlarm":{"id":"ImageProcessorThrottlesAlarm","path":"LocalstaysStagingApiStack/ImageProcessorThrottlesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/ImageProcessorThrottlesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when image processor Lambda is throttled","alarmName":"staging-image-processor-throttles","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"ImageProcessorLambda383C2A0A"}}],"evaluationPeriods":1,"metricName":"Throttles","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":10,"treatMissingData":"notBreaching"}}}}},"VerificationProcessingDLQ":{"id":"VerificationProcessingDLQ","path":"LocalstaysStagingApiStack/VerificationProcessingDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessingDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"staging-verification-processing-dlq","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"VerificationProcessingQueue":{"id":"VerificationProcessingQueue","path":"LocalstaysStagingApiStack/VerificationProcessingQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessingQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"staging-verification-processing-queue","receiveMessageWaitTimeSeconds":20,"redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["VerificationProcessingDLQCEA07111","Arn"]},"maxReceiveCount":3},"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"visibilityTimeout":90}}},"Policy":{"id":"Policy","path":"LocalstaysStagingApiStack/VerificationProcessingQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessingQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["GuardDutyScanCompleteVerification61E621C9","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["VerificationProcessingQueue4B704528","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"VerificationProcessingQueue4B704528"}]}}}}}}},"GuardDutyScanCompleteVerification":{"id":"GuardDutyScanCompleteVerification","path":"LocalstaysStagingApiStack/GuardDutyScanCompleteVerification","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GuardDutyScanCompleteVerification/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"description":"Capture GuardDuty malware scan completion events for verification files","eventPattern":{"source":["aws.guardduty"],"detail-type":["GuardDuty Malware Protection Object Scan Result"],"detail":{"scanStatus":["COMPLETED"],"s3ObjectDetails":{"bucketName":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}],"objectKey":[{"prefix":"veri_"}]}}},"name":"staging-guardduty-scan-complete-verification","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["VerificationProcessingQueue4B704528","Arn"]}}]}}}}},"VerificationQueueBacklogAlarm":{"id":"VerificationQueueBacklogAlarm","path":"LocalstaysStagingApiStack/VerificationQueueBacklogAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationQueueBacklogAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when verification processing queue has backlog > 10 min","alarmName":"staging-verification-queue-backlog","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["VerificationProcessingQueue4B704528","QueueName"]}}],"evaluationPeriods":2,"metricName":"ApproximateAgeOfOldestMessage","namespace":"AWS/SQS","period":300,"statistic":"Maximum","threshold":600,"treatMissingData":"notBreaching"}}}}},"VerificationDLQMessagesAlarm":{"id":"VerificationDLQMessagesAlarm","path":"LocalstaysStagingApiStack/VerificationDLQMessagesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationDLQMessagesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when failed verification files land in DLQ","alarmName":"staging-verification-dlq-messages","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["VerificationProcessingDLQCEA07111","QueueName"]}}],"evaluationPeriods":1,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"VerificationProcessorLambda":{"id":"VerificationProcessorLambda","path":"LocalstaysStagingApiStack/VerificationProcessorLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["VerificationProcessingQueue4B704528","Arn"]}}],"Version":"2012-10-17"},"policyName":"VerificationProcessorLambdaServiceRoleDefaultPolicy35A93F81","roles":[{"Ref":"VerificationProcessorLambdaServiceRole846AD943"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"b772180ba1447daabebf8f7ba15dc8d752678954c75a77c913bff83614d18b08.zip"},"description":"Process verification files: malware scanning + move to final destination","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"}}},"functionName":"staging-verification-processor","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["VerificationProcessorLambdaServiceRole846AD943","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":60}}},"SqsEventSource:LocalstaysStagingApiStackVerificationProcessingQueue7A0957EB":{"id":"SqsEventSource:LocalstaysStagingApiStackVerificationProcessingQueue7A0957EB","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/SqsEventSource:LocalstaysStagingApiStackVerificationProcessingQueue7A0957EB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorLambda/SqsEventSource:LocalstaysStagingApiStackVerificationProcessingQueue7A0957EB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":1,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"eventSourceArn":{"Fn::GetAtt":["VerificationProcessingQueue4B704528","Arn"]},"functionName":{"Ref":"VerificationProcessorLambda79457E85"},"functionResponseTypes":["ReportBatchItemFailures"],"maximumBatchingWindowInSeconds":0}}}}}}},"VerificationProcessorLogGroup":{"id":"VerificationProcessorLogGroup","path":"LocalstaysStagingApiStack/VerificationProcessorLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/staging-verification-processor","retentionInDays":7,"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}}}},"VerificationProcessorErrorsAlarm":{"id":"VerificationProcessorErrorsAlarm","path":"LocalstaysStagingApiStack/VerificationProcessorErrorsAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorErrorsAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when verification processor Lambda has errors","alarmName":"staging-verification-processor-errors","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"VerificationProcessorLambda79457E85"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":5,"treatMissingData":"notBreaching"}}}}},"VerificationProcessorThrottlesAlarm":{"id":"VerificationProcessorThrottlesAlarm","path":"LocalstaysStagingApiStack/VerificationProcessorThrottlesAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/VerificationProcessorThrottlesAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alert when verification processor Lambda is throttled","alarmName":"staging-verification-processor-throttles","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"VerificationProcessorLambda79457E85"}}],"evaluationPeriods":1,"metricName":"Throttles","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":10,"treatMissingData":"notBreaching"}}}}},"HostProfileHandlerLambda":{"id":"HostProfileHandlerLambda","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":["s3:GetObject","s3:HeadObject","s3:PutObject"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"HostProfileHandlerLambdaServiceRoleDefaultPolicyD5DE60FC","roles":[{"Ref":"HostProfileHandlerLambdaServiceRole9C494390"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"9c8d8e91d42267b2d25b47fc6897180cf11870c263b09f609926c6d84fdeec80.zip"},"description":"Consolidated: Host profile operations (submit-intent, confirm-submission, update-rejected, get-profile)","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-host-profile-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["HostProfileHandlerLambdaServiceRole9C494390","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/HostProfileHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"GetSubscriptionLambda":{"id":"GetSubscriptionLambda","path":"LocalstaysStagingApiStack/GetSubscriptionLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GetSubscriptionLambdaServiceRoleDefaultPolicy1FB4EA33","roles":[{"Ref":"GetSubscriptionLambdaServiceRoleB973FA58"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"b0096d5e64c326701329d039f2cdcf13429e87a3bc1a6e27a30efd702792f582.zip"},"description":"Retrieve host subscription details and entitlements","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-get-subscription","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["GetSubscriptionLambdaServiceRoleB973FA58","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/GetSubscriptionLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"HostListingsHandlerLambda":{"id":"HostListingsHandlerLambda","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["s3:GetObject","s3:HeadObject","s3:PutObject"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"HostListingsHandlerLambdaServiceRoleDefaultPolicyEABB9EC4","roles":[{"Ref":"HostListingsHandlerLambdaServiceRoleE8044B84"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"63b749c8bb63d730f452a391a9d0e16d6e1a1d93b63510451179b18d70b0f02c.zip"},"description":"Consolidated: Host listings operations (get-metadata, submit-intent, confirm-submission, list, get, delete)","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-host-listings-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["HostListingsHandlerLambdaServiceRoleE8044B84","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/HostListingsHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"HostRequestsHandlerLambda":{"id":"HostRequestsHandlerLambda","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"HostRequestsHandlerLambdaServiceRoleDefaultPolicyD25E1D94","roles":[{"Ref":"HostRequestsHandlerLambdaServiceRole219432A8"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"342d16a5de37a50d73da8b9a73eeea9df1a8f73b14125e3f06967acff55bb314.zip"},"description":"Consolidated: Host requests operations (list, get, submit-intent, confirm-submission, video, verification)","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-host-requests-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["HostRequestsHandlerLambdaServiceRole219432A8","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/HostRequestsHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"AdminHostsHandlerLambda":{"id":"AdminHostsHandlerLambda","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"AdminHostsHandlerLambdaServiceRoleDefaultPolicyA838599D","roles":[{"Ref":"AdminHostsHandlerLambdaServiceRole55516F8F"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"641c918a3e63ed370157d7c27ce21c9ade1e7affa5ea99c1a254b91670b3381a.zip"},"description":"Admin: Consolidated handler for all host operations","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-admin-hosts-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["AdminHostsHandlerLambdaServiceRole55516F8F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/AdminHostsHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"AdminListingsHandlerLambda":{"id":"AdminListingsHandlerLambda","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"AdminListingsHandlerLambdaServiceRoleDefaultPolicy9752F658","roles":[{"Ref":"AdminListingsHandlerLambdaServiceRole65941964"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"647f7bfc2096cdf3d89df664044cdb0b83713ba625bde5d112278962e2667901.zip"},"description":"Admin: Consolidated handler for all listing operations","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-admin-listings-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["AdminListingsHandlerLambdaServiceRole65941964","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/AdminListingsHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"AdminRequestsHandlerLambda":{"id":"AdminRequestsHandlerLambda","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.220.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.220.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.220.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-data:ExportsOutputFnGetAttLocalstaysTable37513FEEArn4E8EFD9C"},"/index/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},{"Fn::Join":["",[{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputFnGetAttHostAssetsBucket5D31AD44ArnFFAF3CDB"},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputFnGetAttEmailTemplatesTable7BE96B58ArnCD0FA463"},{"Ref":"AWS::NoValue"}]},{"Action":"ssm:GetParameter","Effect":"Allow","Resource":"arn:aws:ssm:eu-north-1:041608526793:parameter/localstays/staging/sendgrid"}],"Version":"2012-10-17"},"policyName":"AdminRequestsHandlerLambdaServiceRoleDefaultPolicyD6919046","roles":[{"Ref":"AdminRequestsHandlerLambdaServiceRoleF808F9C4"}]}}}}}}},"Code":{"id":"Code","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.220.0"},"children":{"Stage":{"id":"Stage","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.220.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.220.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.220.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-041608526793-eu-north-1","s3Key":"ed6852a067351c3c17bdf0d562eb424ae05078cb98a4d2694aba8117f41eeb7a.zip"},"description":"Admin: Consolidated handler for all request operations","environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"localstays-staging-data:ExportsOutputRefLocalstaysTable37513FEEE30323E3"},"BUCKET_NAME":{"Fn::ImportValue":"localstays-staging-storage:ExportsOutputRefHostAssetsBucket5D31AD448717E0DD"},"EMAIL_TEMPLATES_TABLE":{"Fn::ImportValue":"localstays-staging-email-templates:ExportsOutputRefEmailTemplatesTable7BE96B58916DDED5"},"SENDGRID_PARAM":"/localstays/staging/sendgrid","FROM_EMAIL":"marko@localstays.me","STAGE":"staging","CLOUDFRONT_DOMAIN":{"Fn::ImportValue":"localstays-staging-cloudfront:ExportsOutputFnGetAttAssetsDistributionDomainName4363950D"},"USE_CLOUDFRONT":"true"}},"functionName":"localstays-staging-admin-requests-handler","handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["AdminRequestsHandlerLambdaServiceRoleF808F9C4","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"CostCenter","value":"Engineering"},{"key":"Environment","value":"staging"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"Localstays"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.220.0"},"children":{"Resource":{"id":"Resource","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"LogGroup":{"id":"LogGroup","path":"LocalstaysStagingApiStack/AdminRequestsHandlerLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.220.0","metadata":[]}}}},"ApiEndpoint":{"id":"ApiEndpoint","path":"LocalstaysStagingApiStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ApiId":{"id":"ApiId","path":"LocalstaysStagingApiStack/ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"HostProfileHandlerLambdaName":{"id":"HostProfileHandlerLambdaName","path":"LocalstaysStagingApiStack/HostProfileHandlerLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"GetSubscriptionLambdaName":{"id":"GetSubscriptionLambdaName","path":"LocalstaysStagingApiStack/GetSubscriptionLambdaName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"SubmitIntentEndpoint":{"id":"SubmitIntentEndpoint","path":"LocalstaysStagingApiStack/SubmitIntentEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"ConfirmSubmissionEndpoint":{"id":"ConfirmSubmissionEndpoint","path":"LocalstaysStagingApiStack/ConfirmSubmissionEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"GetProfileEndpoint":{"id":"GetProfileEndpoint","path":"LocalstaysStagingApiStack/GetProfileEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"GetSubscriptionEndpoint":{"id":"GetSubscriptionEndpoint","path":"LocalstaysStagingApiStack/GetSubscriptionEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.220.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalstaysStagingApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalstaysStagingApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.220.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalstaysStagingApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.220.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalstaysStagingApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.220.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}